#!/usr/bin/env python

from optparse import OptionParser
from twisterzoom.system import System
from twisterzoom.log import start_logging


def main():
    op = OptionParser()
    op.add_option('--log-to', default='console')
    op.add_option('--log-level', default='DEBUG')
    opts, args = op.parse_args()
    start_logging(opts.log_to, opts.log_level)

    cmd = args[0] if args else 'start'
    if cmd == 'start':
        System().start()
    else:
        op.error('unknown command: %s' % cmd)

if __name__ == '__main__':
    main()
